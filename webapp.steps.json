{
  "$schema": "./steps.json.schema",
  "steps": [
    {
      "question_id": "project_name",
      "question": "プロジェクト名を入力してください",
      "input_type": "input",
      "actions": [
        {
          "type": "mkdir",
          "path": "./out/[[[ANS:project_name]]]"
        }
      ]
    },
    {
      "question_id": "framework",
      "question": "使用するフレームワークを選択してください",
      "input_type": "select",
      "options": ["React", "Vue", "Angular", "Svelte", "Next.js"]
    },
    {
      "question_id": "features",
      "question": "必要な機能を選択してください（複数選択可）",
      "input_type": "multiselect",
      "options": [
        "TypeScript",
        "ESLint",
        "Prettier",
        "Testing (Jest)",
        "Tailwind CSS",
        "Docker"
      ],
      "actions": [
        {
          "conditions": [
            { "question_id": "features", "ans": { "contains": "TypeScript" } }
          ],
          "type": "execute",
          "command": "Write-Host 'TypeScriptを設定しています...' -ForegroundColor Green"
        },
        {
          "conditions": [
            { "question_id": "features", "ans": { "contains": "Docker" } }
          ],
          "type": "execute",
          "command": "Write-Host 'Dockerファイルを生成しています...' -ForegroundColor Green"
        }
      ]
    },
    {
      "question_id": "package_manager",
      "question": "パッケージマネージャーを選択してください",
      "input_type": "select",
      "options": ["npm", "yarn", "pnpm"],
      "actions": [
        {
          "type": "execute",
          "command": "Write-Host '========================================' -ForegroundColor Cyan"
        },
        {
          "type": "execute",
          "command": "Write-Host 'プロジェクト設定:' -ForegroundColor Cyan"
        },
        {
          "type": "execute",
          "command": "Write-Host '  名前: [[[ANS:project_name]]]' -ForegroundColor White"
        },
        {
          "type": "execute",
          "command": "Write-Host '  フレームワーク: [[[ANS:framework]]]' -ForegroundColor White"
        },
        {
          "type": "execute",
          "command": "Write-Host '  パッケージマネージャー: [[[ANS:package_manager]]]' -ForegroundColor White"
        },
        {
          "type": "execute",
          "command": "Write-Host '  機能: [[[ANS:features]]]' -ForegroundColor White"
        },
        {
          "type": "execute",
          "command": "Write-Host '  プロジェクトID: [[[UUIDv4]]]' -ForegroundColor Yellow"
        },
        {
          "type": "execute",
          "command": "Write-Host '========================================' -ForegroundColor Cyan"
        }
      ]
    },
    {
      "question_id": "git_init",
      "question": "Gitリポジトリを初期化しますか？",
      "input_type": "select",
      "options": ["はい", "いいえ"],
      "actions": [
        {
          "conditions": [
            { "question_id": "git_init", "ans": { "equals": "はい" } }
          ],
          "type": "execute",
          "command": "cd ./out/[[[ANS:project_name]]]; git init; Write-Host 'Gitリポジトリを初期化しました' -ForegroundColor Green"
        },
        {
          "conditions": [
            { "question_id": "git_init", "ans": { "equals": "はい" } }
          ],
          "type": "execute",
          "command": "Write-Host '✓ プロジェクト \"[[[ANS:project_name]]]\" のセットアップが完了しました！' -ForegroundColor Green"
        },
        {
          "conditions": [
            { "question_id": "git_init", "ans": { "equals": "いいえ" } }
          ],
          "type": "execute",
          "command": "Write-Host '✓ プロジェクト \"[[[ANS:project_name]]]\" のセットアップが完了しました！' -ForegroundColor Green"
        }
      ]
    }
  ]
}
